<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        <title>Survey Form</title>
        <style>
            @import url('https://fonts.googleapis.com/css?family=Poppins:200i,400&display=swap');

            :root {
                --color-white: #f3f3f3;
                --color-darkblue: #1b1b92;
                --color-darkblue-alpha: rgba(27, 27, 50, 0.8);
                --color-green: #37af65;
            }

            *,
            *::before,
            *::after {
                box-sizing: border-box;
            }

            body {
                background-color: #37af65;
                text-align: center;
                color: white;
                font-family: 'Poppins', sans-serif;
                font-size: 1rem;
                font-weight: 400;
                line-height: 1.4;
                margin: 0;
            }

            h1 {
            font-weight: 400;
            line-height: 1.2;
            }

            p {
            font-size: 1.125rem;
            }

            h1,
            p {
            margin-top: 0;
            margin-bottom: 0.5rem;
            }

            label {
            display: flex;
            align-items: center;
            font-size: 1.125rem;
            margin-bottom: 0.5rem;
            }

            input,
            button,
            select,
            textarea {
            margin: 0;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
            }

            button {
            border: none;
            }

            .container {
            width: 100%;
            margin: 3.125rem auto 0 auto;
            }

            @media (min-width: 576px) {
            .container {
                max-width: 540px;
            }
            }

            @media (min-width: 768px) {
            .container {
                max-width: 720px;
            }
            }

            .header {
            padding: 0 0.625rem;
            margin-bottom: 1.875rem;
            }

            .description {
            font-style: italic;
            font-weight: 200;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.4);
            }

            .clue {
            margin-left: 0.25rem;
            font-size: 0.9rem;
            color: #e4e4e4;
            }

            .text-center {
            text-align: center;
            }

            /* form */

            form {
            background: var(--color-darkblue-alpha);
            padding: 2.5rem 0.625rem;
            border-radius: 0.25rem;
            }

            @media (min-width: 480px) {
            form {
                padding: 2.5rem;
            }
            }

            .form-group {
            margin: 0 auto 1.25rem auto;
            padding: 0.25rem;
            }

            .form-control {
            display: block;
            width: 100%;
            height: 2.375rem;
            padding: 0.375rem 0.75rem;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            }

            .form-control:focus {
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
            }

            .input-radio,
            .input-checkbox {
            display: inline-block;
            margin-right: 0.625rem;
            min-height: 1.25rem;
            min-width: 1.25rem;
            }

            .input-textarea {
            min-height: 120px;
            width: 100%;
            padding: 0.625rem;
            resize: vertical;
            }

            .submit-button {
            display: block;
            width: 100%;
            padding: 0.75rem;
            background: var(--color-green);
            color: inherit;
            border-radius: 2px;
            cursor: pointer;
            }

            table tbody tr td {
                border: solid 2px green;
                padding: 8px;
            }

            #output {
                color: black;
                display: inline;
            }

            .card-header {
                background-color: #512DA8;
            }

            .query {
                font-size: 20px;
                font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
            }
        </style>
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h1 id="message">

                    </h1>
                </div>
            </div>
        </div>

        <div class="container" id="form"> 
            <header class="header">
                <h1 id="title" class="text-center"><strong>FTS Survey Form</strong></h1>
                <p id="description" class="description text-center">
                <em>Thank you for taking the time to help us improve the platform !</em>
                </p>
            </header>

            <form id="survey-form">
                <div class="form-group" style="text-align: left;">
                    <label for="fname"><strong>Full name</strong></label>
                    <input type="text" class="form-control" name="full-name" id="fname" placeholder="Enter your full name" required>
                </div>
                <br>
                <div class="form-group" style="text-align: left;">
                    <label id="number-label" for="number"><strong>Age</strong></label>
                    <input type="number" name="age" id="age" min="10" max="99" class="form-control" placeholder="Age" required>
                </div>
                <br>
                <div class="form-group" style="text-align: left;">
                    <label for="mail"><strong>Mail Id</strong></label>
                    <input type="email" class="form-control" name="Mail" id="mail" placeholder="Enter your Mail Address" required>
                </div>
                <br>
                <div class="form-group" style="text-align: left;">
                    <p><strong>Which option best describes your current role at FTS?</strong></p>
                    <select id="dropdown" name="role" class="form-control" required>
                        <option disabled selected value>Select current role</option>
                        <option value="Web development intern">Web development intern</option>
                        <option value="HR intern">HR intern</option>
                        <option value="Event Management intern">Event Management intern</option>
                        <option value="Prefer not to say">Prefer not to say</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <br>
                <div class="form-group" style="text-align: left;">
                    <label for="recommend"><strong>Would you recommend FTS to a friend?</strong></label>
                    <div id="recommend">
                        <label>
                            <input id="advice1" name="user-recommend" value="definitely" type="radio" class="input-radio" checked/>Definitely
                        </label>
                        <br>
                        <label>
                            <input id="advice2" name="user-recommend" value="maybe" type="radio" class="input-radio"/>Maybe
                        </label>
                        <br>
                        <label>
                            <input id="advice2" name="user-recommend" value="not-sure" type="radio" class="input-radio"/>Not sure
                        </label>
                    </div>
                </div>
                <br>
                <div class="form-group" style="text-align: left;">
                    <label for="suggestions"><strong>Any Suggestions?</strong></label>
                    <textarea id="suggestions" class="input-textarea" name="feedBack" placeholder="Enter your comment here ....." required></textarea>
                </div>
                <br>
                <div class="form-group">
                    <a class="btn btn-success submit" id="save" href="#message" value="Submit">Submit</a>
                    <button class="btn btn-primary" type="reset" id="clear" value="Clear">Reset</button>
                </div>
            </form>

        </div>
        <br>
        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
        <script>
            var submit = document.getElementById("save");

            function checkform() {
                var inputs = document.getElementsByTagName("input");
                for (var i = 0; i < inputs.length; i++) {
                    if(inputs[i].hasAttribute("required")){
                        if(inputs[i].value == ""){
                            return false;
                        }
                    }
                }
                var textarea = document.getElementsByTagName("teaxtarea");
                for (var i = 0; i < textarea.length; i++) {
                    if(teaxtarea[i].hasAttribute("required")){
                        if(textarea[i].value == ""){
                            return false;
                        }
                    }
                }
                if(!document.getElementById("mail").checkValidity())
                {
                    return false;
                }
                console.log("submited");
                return true;
            }

            submit.addEventListener("click", function(){
                if(checkform()){
                    let notes = localStorage.getItem("Data");
            
                    if (notes == null) notesObj = [];
                    else notesObj = JSON.parse(notes);

                    let formData = {
                        Fname: document.getElementById("fname").value,
                        Age: document.getElementById("age").value,
                        Mail: document.getElementById("mail").value,
                        Intern: document.getElementById("dropdown").value,
                        Recommend: getadvice(),
                        Comment: document.getElementById("suggestions").value
                    }

                    notesObj.push(formData);
                    localStorage.setItem('Data', JSON.stringify(notesObj));

                    document.getElementById('message').innerHTML = 'ThankYou for filling form';
                    alert("Data Added Successfully", JSON.stringify(formData));

                    resetform(document.getElementById("survey-form"));
                }
                else {
                    alert("Please fill all fields/Mail address maybe invalid !!!")
                }
            });

            function resetform(form) {
                console.log("reset");
                form.reset();
            }

            function getadvice() {
                if(document.getElementById('advice1').checked) {
                    var val = document.getElementById('advice1').value;
                }
                else if(document.getElementById('advice2').checked) {
                    var val = document.getElementById('advice2').value;
                }
                else if(document.getElementById('advice3').checked) {
                    var val = document.getElementById('advice3').value; 
                }
                return val;
            }
        </script>
    </body>
    
</html>